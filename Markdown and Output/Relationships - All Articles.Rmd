---
title: "Relationships for All Articles"
output:
  html_document:
    keep_md: yes
    toc: true
  pdf_document: default
---

```{r, results="asis", echo=FALSE, message=FALSE}
source('../RCode/Download and Clean PT Data.R')
source('../RCode/PT Analysis.R')
```

# _Region by year group_ for all entries in the database:

### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
RegionByYear<-data.frame(Private$YearGroup, PrivateRegionGrid)
RegionByYear2 <- melt(RegionByYear, id=c("Private.YearGroup"))
RegionByYear3<-RegionByYear2[!(RegionByYear2$value=="FALSE"),]
names(RegionByYear3) <- c("YearGroup","Region","value")
ggplot(RegionByYear3, aes(YearGroup))+geom_bar()+facet_wrap(~Region)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(RegionByYear3$YearGroup, RegionByYear3$Region))
```

# _Region by publication type_: 

### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
RegionByPubType <- data.frame(Private$PubType, PrivateRegionGrid)
RegionByPubType2 <- melt(RegionByPubType, id=c("Private.PubType"))
RegionByPubType3<-RegionByPubType2[!(RegionByPubType2$value=="FALSE"),]
names(RegionByPubType3) <- c("PubType","Region","value")
ggplot(RegionByPubType3, aes(PubType))+geom_bar()+facet_wrap(~Region)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(RegionByPubType3$PubType, RegionByPubType3$Region))
```

# _Publication type by year group_ for all entries in the database:

### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
ggplot(Private, aes(YearGroup))+geom_bar()+facet_wrap(~PubType)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(Private$YearGroup, Private$PubType))
```

# _Research type by region_ for all entries in the database

### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
RegionByResearchType <- data.frame(PrivateResearchTypeGrid, PrivateRegionGrid)
RegionByResearchType2 <- melt(RegionByResearchType, id=c("Original.emperical.research", "Review.of.other.research", "Policy.analysis"))
RegionByResearchType3<-RegionByResearchType2[!(RegionByResearchType2$value=="FALSE"),]
names(RegionByResearchType3) <- c("Original emperical", "Review of other", "Policy analysis","Region","value")
RegionByResearchType3 <- melt(RegionByResearchType3, id=c("Region"))
RegionByResearchType3<-RegionByResearchType3[!(RegionByResearchType3$value=="FALSE"),]
names(RegionByResearchType3) <- c("Region","ResearchType", "value")
RegionByResearchType3<-RegionByResearchType3[!(RegionByResearchType3$ResearchType=="value"),]
ggplot(RegionByResearchType3, aes(ResearchType))+geom_bar()+facet_wrap(~Region)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(RegionByResearchType3$Region, RegionByResearchType3$ResearchType))
```

# _Research type by year group_ for all entries in the database

### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
ResearchTypeByYear<-data.frame(Private$YearGroup, PrivateResearchTypeGrid)
ResearchTypeByYear2 <- melt(ResearchTypeByYear, id=c("Private.YearGroup"))
ResearchTypeByYear3<-ResearchTypeByYear2[!(ResearchTypeByYear2$value=="FALSE"),] 
names(ResearchTypeByYear3) <- c("YearGroup","ResearchType","value")
ggplot(ResearchTypeByYear3, aes(YearGroup))+geom_bar()+facet_wrap(~ResearchType)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(ResearchTypeByYear3$YearGroup, ResearchTypeByYear3$ResearchType))
```

# _Ed levels by region_ 

### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
RegionByEdLevel <- data.frame(PrivateEdLevelGrid, PrivateRegionGrid)
RegionByEdLevel2 <- melt(RegionByEdLevel, id=c("Pre.primary","Primary","Secondary","Tertiary"))
RegionByEdLevel3<-RegionByEdLevel2[!(RegionByEdLevel2$value=="FALSE"),]
names(RegionByEdLevel3) <- c("Pre-primary","Primary","Secondary","Tertiary","Region","value")
RegionByEdLevel3 <- melt(RegionByEdLevel3, id=c("Region"))
RegionByEdLevel3<-RegionByEdLevel3[!(RegionByEdLevel3$value=="FALSE"),]
names(RegionByEdLevel3) <- c("Region","EdLevel", "value")
RegionByEdLevel3<-RegionByEdLevel3[!(RegionByEdLevel3$EdLevel=="value"),]
ggplot(RegionByEdLevel3, aes(EdLevel))+geom_bar()+facet_wrap(~Region)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(RegionByEdLevel3$Region, RegionByEdLevel3$EdLevel))
```

# _Research approach by region_
### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
RegionByResearchApproach <- data.frame(PrivateResearchApproachGrid, PrivateRegionGrid)
RegionByResearchApproach2 <- melt(RegionByResearchApproach, id=c("Single.country...case", "Comparative"))
RegionByResearchApproach3 <- RegionByResearchApproach2[!(RegionByResearchApproach2$value=="FALSE"),]
names(RegionByResearchApproach3) <- c("Single-country","Comparative", "Region","value")
RegionByResearchApproach3 <- melt(RegionByResearchApproach3, id=c("Region"))
RegionByResearchApproach3<-RegionByResearchApproach3[!(RegionByResearchApproach3$value=="FALSE"),]
names(RegionByResearchApproach3) <- c("Region","ResearchApproach", "value")
RegionByResearchApproach3<-RegionByResearchApproach3[!(RegionByResearchApproach3$ResearchApproach=="value"),]
ggplot(RegionByResearchApproach3, aes(ResearchApproach))+geom_bar()+facet_wrap(~Region)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(RegionByResearchApproach3$Region, RegionByResearchApproach3$ResearchApproach))
```

# Research approach by year group
### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
ResearchApproachByYear<-data.frame(Private$YearGroup, PrivateResearchApproachGrid)
ResearchApproachByYear2 <- melt(ResearchApproachByYear, id=c("Private.YearGroup"))
ResearchApproachByYear3<-ResearchApproachByYear2[!(ResearchApproachByYear2$value=="FALSE"),]
names(ResearchApproachByYear3) <- c("YearGroup","ResearchApproach","value")
ggplot(ResearchApproachByYear3, aes(YearGroup))+geom_bar()+facet_wrap(~ResearchApproach)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(ResearchApproachByYear3$YearGroup, ResearchApproachByYear3$ResearchApproach))
```

# Research methods by year group
### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
ResearchMethodsByYear<-data.frame(Private$YearGroup, Private$ResearchMethods)
ResearchMethodsByYear2 <- melt(ResearchMethodsByYear, id=c("Private.YearGroup"))
ResearchMethodsByYear3<-ResearchMethodsByYear2[!(ResearchMethodsByYear2$value=="FALSE"),]
names(ResearchMethodsByYear3) <- c("YearGroup","ResearchMethodsName","ResearchMethods")
ggplot(ResearchMethodsByYear3, aes(YearGroup))+geom_bar()+facet_wrap(~ResearchMethods)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(ResearchMethodsByYear3$YearGroup, ResearchMethodsByYear3$ResearchMethods))
```

# Research methods by region
### Graphs for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
RegionByResearchMethods <- data.frame(Private$ResearchMethods, PrivateRegionGrid)
RegionByResearchMethods2 <- melt(RegionByResearchMethods, id=c("Private.ResearchMethods"))
RegionByResearchMethods3 <- RegionByResearchMethods2[!(RegionByResearchMethods2$value=="FALSE"),]
names(RegionByResearchMethods3) <- c("ResearchMethods","Region","value")
ggplot(RegionByResearchMethods3, aes(ResearchMethods))+geom_bar()+facet_wrap(~Region)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(RegionByResearchMethods3$Region, RegionByResearchMethods3$ResearchMethods))
```

# Research methods by year group
### Graph for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
ggplot(Private, aes(YearGroup))+geom_bar()+facet_wrap(~ResearchMethods)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(Private$YearGroup, Private$ResearchMethods))
```

# Research methods by publication type
### Graph for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
ggplot(Private, aes(PubType))+geom_bar()+facet_wrap(~ResearchMethods)+theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
```

### Counts for all entries
```{r, results="asis", echo=FALSE, message=FALSE}
kable(table(Private$PubType, Private$ResearchMethods))
```